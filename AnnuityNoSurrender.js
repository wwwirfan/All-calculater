KJE.AnnuityCalc=function(){this.SHOW_SURRENDER=KJE.parameters.get("SHOW_SURRENDER_CHARGES",true);this.SURRENDER_PERCENT=KJE.FloatArray(5);this.SURRENDER_YEAR=KJE.FloatArray(5);this.ANNUITY_TOTAL_AF_CHARGE=0;this.ANNUITY_CHARGE=0;this.ANNUITY_PERCENT_CHARGE=0;this.DR_CONTRIBUTION=null;this.DR_ANNUITY_BF_TAX=null;this.DR_ANNUITY_CHARGES=null;this.DR_ANNUITY_AF_CHARGES=null;this.DR_TAXABLE=null;this.DR_ANNUITY_TOTAL_BF_TAX=KJE.FloatArray(1);this.DR_ANNUITY_TOTAL_AF_TAX=KJE.FloatArray(1);this.DR_TOTAL_TAXABLE=KJE.FloatArray(1);this.cats=null;this.cats2=["at withdrawal","at withdrawal"];this.sSchedule=new KJE.Repeating()};KJE.AnnuityCalc.prototype.clear=function(){this.STARTING_BALANCE=0;this.CURRENT_AGE=0;this.ANNUAL_CONTRIBUTION=0;this.RATE_OF_RETURN=0;this.AGE_OF_RETIREMENT=0;this.CURRENT_TAX_RATE=0;this.RETIREMENT_TAX_RATE=0;this.INFLATION_RATE=2.4;this.INCREASE_ANNUAL_CONTRIBUTION=0;this.YEARS_OF_RETIREMENT=30;this.RETIREMENT_ROR=-1};KJE.AnnuityCalc.prototype.calculate=function(E){var f=KJE;var b=this.STARTING_BALANCE;var l=this.CURRENT_AGE;var a=this.ANNUAL_CONTRIBUTION;var r=this.RATE_OF_RETURN;var t=this.AGE_OF_RETIREMENT;var L=this.CURRENT_TAX_RATE;var A=this.RETIREMENT_TAX_RATE;var m=this.INFLATION_RATE;var w=this.INCREASE_ANNUAL_CONTRIBUTION;var h=this.YEARS_OF_RETIREMENT;var c=this.RETIREMENT_ROR;var J=0;var d=m/100;var s=r/100;var p=(r/100)*(1-(L/100));var j=t-l;if(c<0){c=r*7.5}if(j<=0){throw ("Your current age must be less than your withdrawal age.")}var D=a;var k=b;var G=b;var C=b;var g=Math.round(j);this.DR_CONTRIBUTION=KJE.FloatArray(g);this.DR_ANNUITY_AF_CHARGES=KJE.FloatArray(g);this.DR_ANNUITY_BF_TAX=KJE.FloatArray(g);this.DR_ANNUITY_CHARGES=KJE.FloatArray(g);this.DR_TAXABLE=KJE.FloatArray(g);this.cats=new Array(g);var K=0;if(E){var y=this.sSchedule;y.clearRepeat();y.addHeader(y.sReportCol("Age",1),y.sReportCol("Annuity Balance",2),(this.SHOW_SURRENDER?y.sReportCol("Surrender Charge",3):null),(this.SHOW_SURRENDER?y.sReportCol("Balance After Charge",4):null),y.sReportCol("Taxable Savings",5))}for(var H=1;H<=g;H++){K=H-1;this.DR_CONTRIBUTION[K]=D;this.DR_ANNUITY_BF_TAX[K]=f.round((D+k)*(1+s),0);this.DR_ANNUITY_CHARGES[K]=0;this.ANNUITY_PERCENT_CHARGE=0;for(var F=0;F<this.SURRENDER_YEAR.length;F++){if(this.SURRENDER_YEAR[F]==H){this.DR_ANNUITY_CHARGES[K]=f.round(this.DR_ANNUITY_BF_TAX[K]*this.SURRENDER_PERCENT[F],0);this.ANNUITY_PERCENT_CHARGE=this.SURRENDER_PERCENT[F];break}}this.DR_ANNUITY_AF_CHARGES[K]=this.DR_ANNUITY_BF_TAX[K]-this.DR_ANNUITY_CHARGES[K];this.DR_TAXABLE[K]=(D+G)*(1+p);C+=D;if(w){D*=(1+d)}G=this.DR_TAXABLE[K];k=this.DR_ANNUITY_BF_TAX[K];this.ANNUITY_TOTAL_AF_CHARGE=this.DR_ANNUITY_AF_CHARGES[K];this.ANNUITY_CHARGE=this.DR_ANNUITY_CHARGES[K];this.cats[K]=f.number(K+l);if(E){y.addRepeat(this.cats[K],f.dollars(this.DR_ANNUITY_BF_TAX[K]),(this.SHOW_SURRENDER?f.dollars(this.DR_ANNUITY_CHARGES[K]):null),(this.SHOW_SURRENDER?f.dollars(this.DR_ANNUITY_AF_CHARGES[K]):null),f.dollars(this.DR_TAXABLE[K]))}}var e=k;var z=G;var x=(this.ANNUITY_TOTAL_AF_CHARGE-C)*(1-A/100)+C;var u=KJE.NPV_AMT(d,g,this.ANNUITY_TOTAL_AF_CHARGE);var B=KJE.NPV_AMT(d,g,x);var I=KJE.NPV_AMT(d,g,z);var M=KJE.PMT(c/1200,h*12,this.ANNUITY_TOTAL_AF_CHARGE);var o=M*(1-A/100);var v=KJE.NPV_AMT(d,g,M);J=KJE.NPV_AMT(d,g,J);this.DR_ANNUITY_TOTAL_BF_TAX[0]=(e);this.DR_ANNUITY_TOTAL_AF_TAX[0]=(this.ANNUITY_TOTAL_AF_CHARGE);this.DR_TOTAL_TAXABLE[0]=(z);this.YEARS_UNTIL_RETIREMENT=j;this.TOTAL_CONTRIBUTIONS=C;this.ANNUITY_TOTAL_BF_TAX=e;this.ANNUITY_TOTAL_AF_TAX=x;this.TOTAL_TAXABLE=z;this.NPV_TOTAL_BF=u;this.NPV_TOTAL_AFT=B;this.NPV_TOTAL_TAXABLE=I;this.MONTHLY_WITHDRAW_BF=M;this.MONTHLY_WITHDRAW_AF=o;this.NPV_MONTHLY_WITHDRAW_BF=v;this.NPV_MONTHLY_WITHDRAW_AF=J};KJE.AnnuityCalc.prototype.formatReport=function(b){var d=KJE;var a=this.iDecimal;var e=b;e=KJE.replace("SURRENDER_INFO",(this.ANNUITY_PERCENT_CHARGE>0?"This includes a ANNUITY_CHARGE surrender charge of ANNUITY_PERCENT_CHARGE.":""),e);e=KJE.replace("ANNUITY_CHARGE",d.dollars(this.ANNUITY_CHARGE,0),e);e=KJE.replace("ANNUITY_PERCENT_CHARGE",d.percent(this.ANNUITY_PERCENT_CHARGE,0),e);e=KJE.replace("ANNUITY_TOTAL_AF_CHARGE",d.dollars(this.ANNUITY_TOTAL_AF_CHARGE,0),e);e=KJE.replace("NPV_TOTAL_BF",d.dollars(this.NPV_TOTAL_BF,0),e);e=KJE.replace("NPV_TOTAL_AFT",d.dollars(this.NPV_TOTAL_AFT,0),e);e=KJE.replace("NPV_TOTAL_TAXABLE",d.dollars(this.NPV_TOTAL_TAXABLE,0),e);e=KJE.replace("MONTHLY_WITHDRAW_BF",d.dollars(this.MONTHLY_WITHDRAW_BF,0),e);e=KJE.replace("MONTHLY_WITHDRAW_AF",d.dollars(this.MONTHLY_WITHDRAW_AF,0),e);e=KJE.replace("NPV_MONTHLY_WITHDRAW_BF",d.dollars(this.NPV_MONTHLY_WITHDRAW_BF,0),e);e=KJE.replace("NPV_MONTHLY_WITHDRAW_AF",d.dollars(this.NPV_MONTHLY_WITHDRAW_AF,0),e);e=KJE.replace("YEARS_OF_RETIREMENT",d.number(this.YEARS_OF_RETIREMENT,0),e);e=KJE.replace("STARTING_BALANCE",d.dollars(this.STARTING_BALANCE,0),e);e=KJE.replace("CURRENT_AGE",d.number(this.CURRENT_AGE,0),e);e=KJE.replace("ANNUAL_CONTRIBUTION",d.dollars(this.ANNUAL_CONTRIBUTION,0),e);e=KJE.replace("RATE_OF_RETURN",d.percent(this.RATE_OF_RETURN/100,2),e);e=KJE.replace("AGE_OF_RETIREMENT",d.number(this.AGE_OF_RETIREMENT,0),e);e=KJE.replace("CURRENT_TAX_RATE",d.percent(this.CURRENT_TAX_RATE/100,2),e);e=KJE.replace("RETIREMENT_TAX_RATE",d.percent(this.RETIREMENT_TAX_RATE/100,2),e);e=KJE.replace("YEARS_UNTIL_RETIREMENT",d.number(this.YEARS_UNTIL_RETIREMENT,0),e);e=KJE.replace("TOTAL_CONTRIBUTIONS",d.dollars(this.TOTAL_CONTRIBUTIONS,0),e);e=KJE.replace("ANNUITY_TOTAL_BF_TAX",d.dollars(this.ANNUITY_TOTAL_BF_TAX,0),e);e=KJE.replace("ANNUITY_TOTAL_AF_TAX",d.dollars(this.ANNUITY_TOTAL_AF_TAX,0),e);e=KJE.replace("TOTAL_TAXABLE",d.dollars(this.TOTAL_TAXABLE,0),e);e=KJE.replace("INFLATION_RATE",d.percent(this.INFLATION_RATE/100,0),e);e=KJE.replace("INCREASE_ANNUAL_CONTRIBUTION",d.yesno(this.INCREASE_ANNUAL_CONTRIBUTION),e);e=KJE.replace("RETIREMENT_ROR",d.percent(this.RETIREMENT_ROR/100,0),e);for(var c=0;c<this.SURRENDER_YEAR.length;c++){e=KJE.replace("SURRENDER_PERCENT"+c,d.percent(this.SURRENDER_PERCENT[c],2),e);e=KJE.replace("SURRENDER_YEAR"+c,d.input(this.SURRENDER_YEAR[c]),e)}e=e.replace("**REPEATING GROUP**",this.sSchedule.getRepeat());this.sSchedule.clearRepeat();return e};KJE.CalcName="Variable Annuity without Surrender Charges";KJE.CalcType="AnnuityNoSurrender";KJE.CalculatorTitleTemplate="Annuity total at withdrawal is KJE1";KJE.CalculatorTitle="Variable Annuity Calculator";KJE.initialize=function(){KJE.CalcControl=new KJE.AnnuityCalc();KJE.GuiControl=new KJE.Annuity(KJE.CalcControl)};KJE.Annuity=function(i){var e=KJE;var c=KJE.gLegend;var f=KJE.inputs.items;this.MSG_TITLE=KJE.parameters.get("MSG_TITLE","Surrender Charges");KJE.DollarSlider("STARTING_BALANCE","Starting Balance",0,1000000000000,0,0,4);KJE.NumberSlider("CURRENT_AGE","Current age",15,90,0);KJE.DollarSlider("ANNUAL_CONTRIBUTION","Annual contribution",0,25000000,0,0,2);KJE.RateSlider("RATE_OF_RETURN","Expected rate of return");KJE.NumberSlider("AGE_OF_RETIREMENT","Withdrawal age",10,90,0);KJE.PercentSlider("CURRENT_TAX_RATE","Current tax rate",0,50,2);KJE.PercentSlider("RETIREMENT_TAX_RATE","Retirement tax rate",0,50,2);var k=KJE.parameters.get("SURRENDER_DEFAULT_YEAR",true);var a=KJE.parameters.get("SURRENDER_DEFAULT_PERCENT",false);if(i.SHOW_SURRENDER){KJE.InputItem.AltHelpName="SURRENDER_YEAR";for(var d=0;d<i.SURRENDER_YEAR.length;d++){if(a){KJE.parameters.set("SURRENDER_PERCENT"+(d+1),i.SURRENDER_YEAR.length-d)}if(k){KJE.parameters.set("SURRENDER_YEAR"+(d+1),d+1)}KJE.NumberSlider("SURRENDER_YEAR"+(d+1),"For withdrawal in year",0,50,0);KJE.PercentSlider("SURRENDER_PERCENT"+(d+1),"Surrender charge #"+(d+1),0,12,2,1)}}var g=KJE.gNewGraph(KJE.gLINE,"GRAPH1",true,false,KJE.colorList[1],"Annuity Vs. Taxable Account");g._legend._iOrientation=(c.TOP_RIGHT);g._titleXAxis.setText("Age");var h=KJE.gNewGraph(KJE.gCOLUMN,"GRAPH2",true,true,KJE.colorList[1],"Totals at Withdrawal");h._legend._iOrientation=(c.TOP_RIGHT);h._showItemLabelOnTop=true;h._axisX._fSpacingPercent=0.3;h._grid._showYGridLines=false;h._axisX.setVisible(false);h._showItemLabel=true;h._bPopDetail=true;var b=KJE.parameters.get("MSG_DROPPER_TITLE","Variable annuity inputs:");KJE.addDropper(new KJE.Dropper("INPUTS",true,b,b),KJE.colorList[0]);if(i.SHOW_SURRENDER){var j=KJE.parameters.get("MSG_DROPPER2_TITLE","Surrender charges");KJE.addDropper(new KJE.Dropper("INPUTS2",false,j,j),KJE.colorList[0])}};KJE.Annuity.prototype.setValues=function(b){var a=KJE.inputs.items;b.STARTING_BALANCE=a.STARTING_BALANCE.getValue();b.CURRENT_AGE=a.CURRENT_AGE.getValue();b.ANNUAL_CONTRIBUTION=a.ANNUAL_CONTRIBUTION.getValue();b.RATE_OF_RETURN=a.RATE_OF_RETURN.getValue();b.AGE_OF_RETIREMENT=a.AGE_OF_RETIREMENT.getValue();b.CURRENT_TAX_RATE=a.CURRENT_TAX_RATE.getValue();b.RETIREMENT_TAX_RATE=a.RETIREMENT_TAX_RATE.getValue();if(b.SHOW_SURRENDER){for(var c=0;c<b.SURRENDER_YEAR.length;c++){b.SURRENDER_YEAR[c]=a["SURRENDER_YEAR"+(c+1)].getValue();b.SURRENDER_PERCENT[c]=a["SURRENDER_PERCENT"+(c+1)].getValue()/100}}};KJE.Annuity.prototype.refresh=function(f){var e=KJE;var d=KJE.gLegend;var b=KJE.inputs.items;var a=KJE.gGraphs[0];var c=KJE.gGraphs[1];KJE.setTitleTemplate(e.dollars(f.ANNUITY_TOTAL_AF_CHARGE));a.removeAll();a.setGraphCategories(f.cats);a.add(new KJE.gGraphDataSeries(f.DR_ANNUITY_AF_CHARGES,"Annuity after charges",a.getColor(1)));a.add(new KJE.gGraphDataSeries(f.DR_TAXABLE,"Taxable account",a.getColor(2)));a.paint();c.removeAll();c.setGraphCategories(f.cats2);c.add(new KJE.gGraphDataSeries(f.DR_ANNUITY_TOTAL_BF_TAX,"Annuity before taxes",a.getColor(1)));c.add(new KJE.gGraphDataSeries(f.DR_TOTAL_TAXABLE,"Taxable account total",a.getColor(2)));c.paint()};KJE.InputScreenText=" <div id=KJE-D-INPUTS><div id=KJE-P-INPUTS>Input information:</div></div> <div id=KJE-E-INPUTS > <div id='KJE-C-STARTING_BALANCE'><input id='KJE-STARTING_BALANCE' /></div> <div id='KJE-C-CURRENT_AGE'><input id='KJE-CURRENT_AGE' /></div> <div id='KJE-C-AGE_OF_RETIREMENT'><input id='KJE-AGE_OF_RETIREMENT' /></div> <div id='KJE-C-ANNUAL_CONTRIBUTION'><input id='KJE-ANNUAL_CONTRIBUTION' /></div> <div id='KJE-C-RATE_OF_RETURN'><input id='KJE-RATE_OF_RETURN' /></div> <div id='KJE-C-CURRENT_TAX_RATE'><input id='KJE-CURRENT_TAX_RATE' /></div> <div id='KJE-C-RETIREMENT_TAX_RATE'><input id='KJE-RETIREMENT_TAX_RATE' /></div> <div style=\"height:10px\"></div> </div> **GRAPH1** **GRAPH2** ";KJE.DefinitionText=" <div ><dt>Variable annuity</dt><dd>A variable annuity is an insurance product designed to provide long-term, tax-deferred savings. You do not receive a tax deduction on the money you deposit, however, you pay no taxes until you begin making withdrawals. There are no annual contribution limits or income limits. A Variable Annuity could be a good option if you wish to increase your tax-deferred savings. This calculator assumes that you make your contribution at the beginning of each year.<p> <p>Variable annuity contracts will have different rules, restrictions and expenses that will vary by insurance company and by product within an insurance company. To fully understand a variable annuity, make sure you fully understand all options, restrictions and expenses for your specific variable annuity before you enter into such a contract. This calculator is not designed to describe a specific insurance product and should be used as a general illustration of the tax-deferred feature of a variable annuity.</dd></div> <div id='KJE-D-STARTING_BALANCE' ><dt>Starting balance</dt><dd>Initial amount to contribute to your annuity. The starting balance is assumed to be contributed immediately and beginning earning a return.</dd></div> <div id='KJE-D-CURRENT_AGE' ><dt>Current age</dt><dd>Your current age.</dd></div> <div id='KJE-D-AGE_OF_RETIREMENT' ><dt>Withdrawal age</dt><dd>Age you wish to start taking money out of the annuity. This calculator assumes that the year you begin withdrawals, you do not make any contributions to your annuity. So if you begin at age 65, your last contribution would have happened when you were actually age 64.</dd></div> <div id='KJE-D-ANNUAL_CONTRIBUTION' ><dt>Annual contribution</dt><dd>The amount you will contribute to your variable annuity each year.</dd></div> <div id='KJE-D-RATE_OF_RETURN' ><dt>Expected rate of return</dt><dd>The annual rate of return you expect for your variable annuity. This calculator assumes that your return is compounded annually and your contributions are made at the beginning of each year. **ROR_DEFINITION**<p>Insurance products may additionally include mortality, expense risk charges, cost of insurance, administrative, and surrender charges that will have a significant impact on the total rate of return for the investment.</dd></div> <div id='KJE-D-CURRENT_TAX_RATE' ><dt>Current tax rate</dt><dd>Your current marginal tax rate you expect to pay on your taxable investments.</dd></div> <div id='KJE-D-RETIREMENT_TAX_RATE' ><dt>Retirement tax rate</dt><dd>The marginal tax rate you expect to pay on your investments at retirement.</dd></div> <div><dt>Years until retirement</dt><dd>Number of years before retirement.</dd></div> <div><dt>Annuity total before taxes</dt><dd>Total value of your variable annuity at retirement before taxes.</dd></div> <div><dt>Annuity total after taxes</dt><dd>Total value of your variable annuity at retirement after taxes are paid.</dd></div> <div><dt>Total taxable account</dt><dd>Total value of your savings, at retirement, if your annual contribution is deposited into a taxable account.</dd></div> ";KJE.ReportText=' <!--HEADING "Variable Annuity Results" HEADING--> <h2 class=\'KJEReportHeader KJEFontHeading\'>Your Variable Annuity could be worth ANNUITY_TOTAL_AF_CHARGE at retirement.</h2> According to your inputs, your Variable Annuity could be worth ANNUITY_TOTAL_BF_TAX at retirement. SURRENDER_INFO If, at that time, you withdrew the entire amount, the balance after taxes would be ANNUITY_TOTAL_AF_TAX. If you had put this savings into a taxable account it would be worth TOTAL_TAXABLE at retirement. **GRAPH** It is important to note that you only pay taxes on the amount you withdraw, the remaining balance will still earn interest that is tax-deferred. Very few people need to withdraw the entire balance in one lump sum. By making withdrawals gradually, or by making use of certain loan provisions available to many annuities, you can further increase the value of this tax-deferred investment. <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Variable Annuity Results</caption> <tbody class=\'KJEReportTBody\'> <tr class=KJEOddRow><th class="KJELabel KJECellBorder KJECell60" scope=\'row\'>Total contributions</th><td class="KJECell KJECell40">TOTAL_CONTRIBUTIONS</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Annuity total before taxes</th><td class="KJECell">ANNUITY_TOTAL_BF_TAX</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Annuity total after taxes</th><td class="KJECell">ANNUITY_TOTAL_AF_TAX</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Total if this were a taxable account</th><td class="KJECell">TOTAL_TAXABLE</td></tr> </tbody> </table> </div> **GRAPH** <h2 class=\'KJEReportHeader KJEFontHeading\'>How is this different than an IRA?</h2>A Variable Annuity is an investment product designed to provide long term, tax-deferred savings. Over a period of years, a Variable Annuity can create sizable tax savings. In this respect an annuity is very similar to an IRA. <p>With a Variable Annuity you do not receive a tax deduction on the money you deposit, but you don\'t pay taxes on any interest earned until you begin making withdrawals. This is similar to making non-deductible contributions to a traditional IRA. This is considerably less attractive than contributing to a Roth IRA. Unlike IRAs (both Roth IRAs and traditional IRAs) there are no annual contribution limits or income limits. Generally speaking, it is usually to your advantage to maximize your IRA contributions before you contribute to a Variable Annuity. <h2 class=\'KJEReportHeader KJEFontHeading\'>Your input values</h2><div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Input Summary</caption> <tbody class=\'KJEReportTBody\'> <tr class=KJEOddRow><th class="KJELabel KJECellBorder KJECell60" scope=\'row\'>Starting balance</th><td class="KJECell KJECell40">STARTING_BALANCE</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Annual contribution</th><td class="KJECell">ANNUAL_CONTRIBUTION</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Current age</th><td class="KJECell">CURRENT_AGE</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Years until retirement</th><td class="KJECell">YEARS_UNTIL_RETIREMENT</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Age at retirement</th><td class="KJECell">AGE_OF_RETIREMENT</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Expected rate of return</th><td class="KJECell">RATE_OF_RETURN</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Current tax rate</th><td class="KJECell">CURRENT_TAX_RATE</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Retirement tax rate</th><td class="KJECell">RETIREMENT_TAX_RATE</td></tr> </tbody> </table> </div> <h2 class=\'KJEScheduleHeader KJEFontHeading\'>Variable Annuity balances by year</h2> **REPEATING GROUP** ';